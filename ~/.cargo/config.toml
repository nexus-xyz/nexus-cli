# Global Cargo configuration for optimal Rust performance
# This file applies to all Rust projects on this system

[build]
# Native CPU optimization - automatically detects best CPU for current platform
rustflags = ["-C", "target-cpu=native"]

# Additional performance optimizations (uncomment if needed):
# rustflags = [
#     "-C", "target-cpu=native",           # Native CPU optimization
#     "-C", "opt-level=3",                 # Maximum optimization
#     "-C", "panic=abort",                # Abort on panic
#     "-C", "lto=fat",                    # Full LTO
#     "-C", "codegen-units=1",            # Single codegen unit
# ]

# Alternative configurations (uncomment to use):
# For maximum compatibility (slower but works on older CPUs):
# rustflags = ["-C", "target-cpu=generic"]

# For specific Apple Silicon optimization:
# rustflags = ["-C", "target-cpu=apple-m4"]

# For Intel optimization:
# rustflags = ["-C", "target-cpu=native"]

# Platform-specific configurations:
# [target.aarch64-apple-darwin]
# rustflags = ["-C", "target-cpu=apple-m4"]

# [target.x86_64-apple-darwin]
# rustflags = ["-C", "target-cpu=native"]

# [target.x86_64-unknown-linux-gnu]
# rustflags = ["-C", "target-cpu=native"]

# [target.aarch64-unknown-linux-gnu]
# rustflags = ["-C", "target-cpu=native"]

